"use strict";(self.webpackChunkweado=self.webpackChunkweado||[]).push([[223],{223:(P,m,i)=>{i.r(m),i.d(m,{AdminModule:()=>U});var g=i(6895),d=i(6773),e=i(8256),p=i(2684),u=i(2340),f=i(529);const M=u.N.apiUrl;let h=(()=>{class o{constructor(n){this.http=n}login(n){return this.http.post(M+"/weado/admin",n)}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=i(7743),l=i(433);let v=(()=>{class o{constructor(n,t,c,s){this.msgService=n,this.userService=t,this.router=c,this.storageService=s,this.user={name:"",password:""}}ngOnInit(){}onSubmit(n){n.valid?(this.userService.login(this.user).subscribe(t=>{this.storageService.saveToken(t.name),this.router.navigateByUrl("admin/manage")},t=>{this.msgService.message(t.error.message)}),n.resetForm()):this.msgService.message("Please fill out the whole form")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(p.e),e.Y36(h),e.Y36(d.F0),e.Y36(C.V))},o.\u0275cmp=e.Xpm({type:o,selectors:[["weado-login"]],decls:19,vars:2,consts:[[1,"row","align-content-md-center"],[1,"col-md-4"],[1,"col-md-4",3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","Name",1,"form-label"],[1,"fa","fa-user"],["type","text","name","Name","required","","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","password",1,"form-label"],[1,"fa","fa-passport"],["type","password","autocomplete","","name","password","required","","placeholder","Nenosiri",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","btn-primary","float-end"],[1,"fa","fa-lock-open"]],template:function(n,t){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const a=e.MAs(3);return e.KtG(t.onSubmit(a))}),e.TgZ(4,"div",4)(5,"label",5),e._UZ(6,"i",6),e._uU(7," Name"),e.qZA(),e.TgZ(8,"input",7,8),e.NdJ("ngModelChange",function(a){return t.user.name=a}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",9),e._UZ(12,"i",10),e._uU(13," Password"),e.qZA(),e.TgZ(14,"input",11,12),e.NdJ("ngModelChange",function(a){return t.user.password=a}),e.qZA()(),e.TgZ(16,"button",13),e._UZ(17,"i",14),e._uU(18," Login!"),e.qZA()()()}2&n&&(e.xp6(8),e.Q6J("ngModel",t.user.name),e.xp6(6),e.Q6J("ngModel",t.user.password))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F]}),o})();const Z=function(){return["add"]},_=function(){return["/admin/manage"]};let A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["weado-manage"]],decls:10,vars:4,consts:[[1,"row"],[1,"col-md-2"],["routerLinkActive","active",1,"btn","my-1","mx-1","col-md-4",3,"routerLink"],[1,"fa","fa-plus-circle"],[1,"fa","fa-edit"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"button",2),e._UZ(3,"i",3),e._uU(4," Add Project "),e.qZA(),e.TgZ(5,"button",2),e._UZ(6,"i",4),e._uU(7," Manage "),e.qZA()(),e.TgZ(8,"div",0),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(2,Z)),e.xp6(3),e.Q6J("routerLink",e.DdM(3,_)))},dependencies:[d.lC,d.rH,d.Od],styles:[".btn[_ngcontent-%COMP%]{background-color:#a19c9c!important;color:#fff}.btn[_ngcontent-%COMP%]:hover{color:#000}div[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important}"]}),o})(),j=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["weado-project-list"]],decls:2,vars:0,template:function(n,t){1&n&&(e.TgZ(0,"p"),e._uU(1,"project-list works!"),e.qZA())}}),o})();var T=i(3225);function b(o,r){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}const y=[{path:"",component:v},{path:"manage",component:A,children:[{path:"",component:j},{path:"add",component:(()=>{class o{constructor(n,t,c){this.msgService=n,this.projectService=t,this.router=c,this.years=[2017,2018,2019,2020,2021,2022,2023],this.project={year:2023,title:"",content:"",reports:[],images:[],date:new Date}}onSubmit(n){if(!n.valid)return this.msgService.message("Please make sure to fill all required fields!");this.projectService.addProject(n.value).subscribe({next:t=>{n.resetForm(),this.router.navigateByUrl("/projects/"+t.year)},error:t=>{console.log(t),this.msgService.message(t.message)}})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(p.e),e.Y36(T.m),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["weado-add-project"]],decls:37,vars:7,consts:[[1,"row","align-content-md-center"],[1,"col-md-2"],[1,"col-md-8",3,"ngSubmit"],["form","ngForm"],[1,"mb-1"],["for","Name",1,"form-label"],["name","year",1,"form-control",3,"ngModel","ngModelChange"],["class","form-control",3,"value",4,"ngFor","ngForOf"],["for","title",1,"form-label"],["type","text","autocomplete","","name","title","required","","placeholder","title",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["for","content",1,"form-label"],["name","content","required","","placeholder","content","cols","20","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["content","ngModel"],["for","reports",1,"form-label"],["type","file","autocomplete","","name","reports","required","","placeholder","reports",1,"form-control",3,"ngModel","ngModelChange"],["reports","ngModel"],["for","images",1,"form-label"],["type","file","autocomplete","","name","images","required","","placeholder","images",1,"form-control",3,"ngModel","ngModelChange"],["images","ngModel"],["for","date",1,"form-label"],["type","date","autocomplete","","name","date","required","",1,"form-control","date",3,"ngModel","ngModelChange"],["date","ngModel"],["type","submit",1,"btn","btn-primary","float-end"],[1,"fa","fa-project-diagram"],[1,"form-control",3,"value"]],template:function(n,t){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const a=e.MAs(3);return e.KtG(t.onSubmit(a))}),e.TgZ(4,"div",4)(5,"label",5),e._uU(6," Year"),e.qZA(),e.TgZ(7,"select",6),e.NdJ("ngModelChange",function(a){return t.project.year=a}),e.YNc(8,b,2,2,"option",7),e.qZA()(),e.TgZ(9,"div",4)(10,"label",8),e._uU(11," Title"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(a){return t.project.title=a}),e.qZA()(),e.TgZ(14,"div",4)(15,"label",11),e._uU(16," Content"),e.qZA(),e.TgZ(17,"textarea",12,13),e.NdJ("ngModelChange",function(a){return t.project.content=a}),e.qZA()(),e.TgZ(19,"div",4)(20,"label",14),e._uU(21," Reports"),e.qZA(),e.TgZ(22,"input",15,16),e.NdJ("ngModelChange",function(a){return t.project.reports=a}),e.qZA()(),e.TgZ(24,"div",4)(25,"label",17),e._uU(26," Images"),e.qZA(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(a){return t.project.images=a}),e.qZA()(),e.TgZ(29,"div",4)(30,"label",20),e._uU(31," Date"),e.qZA(),e.TgZ(32,"input",21,22),e.NdJ("ngModelChange",function(a){return t.project.date=a}),e.qZA()(),e.TgZ(34,"button",23),e._UZ(35,"i",24),e._uU(36," Add Project!"),e.qZA()()()}2&n&&(e.xp6(7),e.Q6J("ngModel",t.project.year),e.xp6(1),e.Q6J("ngForOf",t.years),e.xp6(4),e.Q6J("ngModel",t.project.title),e.xp6(5),e.Q6J("ngModel",t.project.content),e.xp6(5),e.Q6J("ngModel",t.project.reports),e.xp6(5),e.Q6J("ngModel",t.project.images),e.xp6(5),e.Q6J("ngModel",t.project.date))},dependencies:[g.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F]}),o})()}]}];let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(y),d.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,J,l.u5]}),o})()}}]);