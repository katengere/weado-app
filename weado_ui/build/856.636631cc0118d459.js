"use strict";(self.webpackChunkweado=self.webpackChunkweado||[]).push([[856],{7856:(x,h,l)=>{l.r(h),l.d(h,{AdminModule:()=>w});var p=l(6895),d=l(606),e=l(1571),u=l(3350),_=l(2340),Z=l(529);const v=_.N.apiUrl;let M=(()=>{class t{constructor(n){this.http=n}login(n){return this.http.post(v+"/weado/admin/login",n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=l(7743),a=l(433);let j=(()=>{class t{constructor(n,o,c,s){this.msgService=n,this.userService=o,this.router=c,this.storageService=s,this.user={name:"",password:""}}ngOnInit(){}onSubmit(n){n.valid?(this.userService.login(this.user).subscribe(o=>{this.storageService.saveToken(o.name),this.msgService.message({title:"SUCCESS",text:"Wellcome "+o.name.toUpperCase()},"bg-success"),this.router.navigateByUrl("admin/manage")},o=>{this.msgService.message({title:"SERVER ERROR",text:o.error.message},"bg-danger")}),n.resetForm()):this.msgService.message({title:"FORM ERROR",text:"Please make sure to fill all required fields!"},"bg-warning","text-danger")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.e),e.Y36(M),e.Y36(d.F0),e.Y36(A.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-login"]],decls:19,vars:2,consts:[[1,"row","align-content-md-center"],[1,"col-md-4"],[1,"col-md-4",3,"ngSubmit"],["form","ngForm"],[1,"mb-1"],["for","Name",1,"form-label"],[1,"fa","fa-user"],["type","text","name","Name","required","","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","password",1,"form-label"],[1,"fa","fa-passport"],["type","password","autocomplete","","name","password","required","","placeholder","Nenosiri",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","float-end","text-white",2,"background-color","rgb(161, 156, 156)"],[1,"fa","fa-lock-open"]],template:function(n,o){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const i=e.MAs(3);return e.KtG(o.onSubmit(i))}),e.TgZ(4,"div",4)(5,"label",5),e._UZ(6,"i",6),e._uU(7," Name"),e.qZA(),e.TgZ(8,"input",7,8),e.NdJ("ngModelChange",function(i){return o.user.name=i}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",9),e._UZ(12,"i",10),e._uU(13," Password"),e.qZA(),e.TgZ(14,"input",11,12),e.NdJ("ngModelChange",function(i){return o.user.password=i}),e.qZA()(),e.TgZ(16,"button",13),e._UZ(17,"i",14),e._uU(18," Login! "),e.qZA()()()}2&n&&(e.xp6(8),e.Q6J("ngModel",o.user.name),e.xp6(6),e.Q6J("ngModel",o.user.password))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F]}),t})();const b=function(){return["/admin/manage"]},T=function(){return["add"]};let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-manage"]],decls:9,vars:4,consts:[[1,"row","mx-1","justify-content-center"],["routerLinkActive","active",1,"btn","mx-1","my-1","col-md-5",3,"routerLink"],[1,"fa","fa-edit"],[1,"fa","fa-plus-circle"],[1,"row"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e._uU(3," Manage "),e.qZA(),e.TgZ(4,"button",1),e._UZ(5,"i",3),e._uU(6," Add Project "),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"router-outlet"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(2,b)),e.xp6(3),e.Q6J("routerLink",e.DdM(3,T)))},dependencies:[d.lC,d.rH,d.Od],styles:[".btn[_ngcontent-%COMP%]{background-color:#a19c9c!important;color:#fff}.btn[_ngcontent-%COMP%]:hover{color:#000}div[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important}"]}),t})();var C=l(3225);function S(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span",5),e._uU(5,"edit"),e.qZA(),e.TgZ(6,"span",6),e._uU(7,"delete"),e.qZA()()()),2&t){const n=r.$implicit;e.xp6(2),e.hij(" ",n.title," ")}}function U(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3),e.qZA()(),e.YNc(4,S,8,1,"tr",3),e.BQk()),2&t){const n=r.$implicit;e.xp6(2),e.uIk("rowspan",n.projects.length+1),e.xp6(1),e.Oqu(n.year),e.xp6(1),e.Q6J("ngForOf",n.projects)}}let J=(()=>{class t{constructor(n,o){this.projectService=n,this.msgService=o,this.projects=[]}ngOnInit(){this.projectService.projects.subscribe({next:n=>{this.projects=n.reduce((o,c,s,i)=>{let g={year:c.year,projects:[]};if(!o.includes(o[o.findIndex(m=>m.year==g.year)]))return g.projects.push(c),[...o,g];{const m=o.find(f=>f.year==g.year);if(m)return m.projects.push(c),o.splice(o.findIndex(f=>f.year==m.year),1,m),[...o]}return o},[])},error:n=>{this.msgService.message({title:"",text:n.message})}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.m),e.Y36(u.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-project-list"]],decls:12,vars:1,consts:[[1,"table-responsive"],[1,"table","table-hover","text-white"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","bg-warning"],[1,"btn","bg-danger",2,"margin-left","2px"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"Year"),e.qZA(),e.TgZ(6,"th",2),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th",2),e._uU(9,"Actions"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,U,5,3,"ng-container",3),e.qZA()()()),2&n&&(e.xp6(11),e.Q6J("ngForOf",o.projects))},dependencies:[p.sg]}),t})();function q(t,r){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}const F=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-admin-home"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),t})(),children:[{path:"login",component:j},{path:"manage",component:y,children:[{path:"",component:J},{path:"add",component:(()=>{class t{constructor(n,o,c){this.msgService=n,this.projectService=o,this.router=c,this.years=[2017,2018,2019,2020,2021,2022,2023],this.project={year:2023,title:"",content:"",reports:[],images:[],date:new Date}}onSubmit(n){if(!n.valid)return this.msgService.message({title:"FORM ERROR",text:"Please make sure to fill all required fields!"},"bg-success","text-warning");this.projectService.addProject(n.value).subscribe({next:o=>{n.resetForm(),this.msgService.message({title:"SUCCESS",text:o.title.toUpperCase()+": Successful added"},"bg-success"),this.router.navigateByUrl("/projects/"+o.year)},error:o=>{console.log(o),this.msgService.message({title:"SERVER ERROR",text:o.message},"bg-success","text-danger")}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.e),e.Y36(C.m),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-add-project"]],decls:37,vars:7,consts:[[1,"row","align-content-md-center"],[1,"col-md-2"],[1,"col-md-8",3,"ngSubmit"],["form","ngForm"],[1,"mb-1"],["for","Name",1,"form-label"],["name","year",1,"form-control",3,"ngModel","ngModelChange"],["class","form-control",3,"value",4,"ngFor","ngForOf"],["for","title",1,"form-label"],["type","text","autocomplete","","name","title","required","","placeholder","title",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["for","content",1,"form-label"],["name","content","required","","placeholder","content","cols","5","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["content","ngModel"],["for","reports",1,"form-label"],["type","file","autocomplete","","name","reports","required","","placeholder","reports",1,"form-control",3,"ngModel","ngModelChange"],["reports","ngModel"],["for","images",1,"form-label"],["type","file","autocomplete","","name","images","required","","placeholder","images",1,"form-control",3,"ngModel","ngModelChange"],["images","ngModel"],["for","date",1,"form-label"],["type","date","autocomplete","","name","date","required","",1,"form-control","date",3,"ngModel","ngModelChange"],["date","ngModel"],["type","submit",1,"btn","btn-primary","float-end"],[1,"fa","fa-project-diagram"],[1,"form-control",3,"value"]],template:function(n,o){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const i=e.MAs(3);return e.KtG(o.onSubmit(i))}),e.TgZ(4,"div",4)(5,"label",5),e._uU(6," Year"),e.qZA(),e.TgZ(7,"select",6),e.NdJ("ngModelChange",function(i){return o.project.year=i}),e.YNc(8,q,2,2,"option",7),e.qZA()(),e.TgZ(9,"div",4)(10,"label",8),e._uU(11," Title"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(i){return o.project.title=i}),e.qZA()(),e.TgZ(14,"div",4)(15,"label",11),e._uU(16," Content"),e.qZA(),e.TgZ(17,"textarea",12,13),e.NdJ("ngModelChange",function(i){return o.project.content=i}),e.qZA()(),e.TgZ(19,"div",4)(20,"label",14),e._uU(21," Reports"),e.qZA(),e.TgZ(22,"input",15,16),e.NdJ("ngModelChange",function(i){return o.project.reports=i}),e.qZA()(),e.TgZ(24,"div",4)(25,"label",17),e._uU(26," Images"),e.qZA(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(i){return o.project.images=i}),e.qZA()(),e.TgZ(29,"div",4)(30,"label",20),e._uU(31," Date"),e.qZA(),e.TgZ(32,"input",21,22),e.NdJ("ngModelChange",function(i){return o.project.date=i}),e.qZA()(),e.TgZ(34,"button",23),e._UZ(35,"i",24),e._uU(36," Add Project!"),e.qZA()()()}2&n&&(e.xp6(7),e.Q6J("ngModel",o.project.year),e.xp6(1),e.Q6J("ngForOf",o.years),e.xp6(4),e.Q6J("ngModel",o.project.title),e.xp6(5),e.Q6J("ngModel",o.project.content),e.xp6(5),e.Q6J("ngModel",o.project.reports),e.xp6(5),e.Q6J("ngModel",o.project.images),e.xp6(5),e.Q6J("ngModel",o.project.date))},dependencies:[p.sg,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F]}),t})()}]}]}];let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(F),d.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,P,a.u5]}),t})()}}]);