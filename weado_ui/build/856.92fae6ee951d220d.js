"use strict";(self.webpackChunkweado=self.webpackChunkweado||[]).push([[856],{7856:(J,m,i)=>{i.r(m),i.d(m,{AdminModule:()=>U});var g=i(6895),d=i(606),e=i(1571),p=i(3350),u=i(2340),f=i(529);const C=u.N.apiUrl;let M=(()=>{class t{constructor(n){this.http=n}login(n){return this.http.post(C+"/weado/admin/login",n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i(7743),l=i(433);let v=(()=>{class t{constructor(n,o,c,s){this.msgService=n,this.userService=o,this.router=c,this.storageService=s,this.user={name:"",password:""}}ngOnInit(){}onSubmit(n){n.valid?(this.userService.login(this.user).subscribe(o=>{this.storageService.saveToken(o.name),this.msgService.message({title:"SUCCESS",text:"Wellcome "+o.name.toUpperCase()},"bg-success"),this.router.navigateByUrl("admin/manage")},o=>{this.msgService.message({title:"SERVER ERROR",text:o.error.message},"bg-danger")}),n.resetForm()):this.msgService.message({title:"FORM ERROR",text:"Please make sure to fill all required fields!"},"bg-warning","text-danger")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.e),e.Y36(M),e.Y36(d.F0),e.Y36(h.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-login"]],decls:19,vars:2,consts:[[1,"row","align-content-md-center"],[1,"col-md-4"],[1,"col-md-4",3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","Name",1,"form-label"],[1,"fa","fa-user"],["type","text","name","Name","required","","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","password",1,"form-label"],[1,"fa","fa-passport"],["type","password","autocomplete","","name","password","required","","placeholder","Nenosiri",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","btn-primary","float-end"],[1,"fa","fa-lock-open"]],template:function(n,o){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const a=e.MAs(3);return e.KtG(o.onSubmit(a))}),e.TgZ(4,"div",4)(5,"label",5),e._UZ(6,"i",6),e._uU(7," Name"),e.qZA(),e.TgZ(8,"input",7,8),e.NdJ("ngModelChange",function(a){return o.user.name=a}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",9),e._UZ(12,"i",10),e._uU(13," Password"),e.qZA(),e.TgZ(14,"input",11,12),e.NdJ("ngModelChange",function(a){return o.user.password=a}),e.qZA()(),e.TgZ(16,"button",13),e._UZ(17,"i",14),e._uU(18," Login!"),e.qZA()()()}2&n&&(e.xp6(8),e.Q6J("ngModel",o.user.name),e.xp6(6),e.Q6J("ngModel",o.user.password))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F]}),t})();const Z=function(){return["add"]},_=function(){return["/admin/manage"]};let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-manage"]],decls:10,vars:4,consts:[[1,"row"],[1,"col-md-2"],["routerLinkActive","active",1,"btn","my-1","mx-1","col-md-4",3,"routerLink"],[1,"fa","fa-plus-circle"],[1,"fa","fa-edit"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"button",2),e._UZ(3,"i",3),e._uU(4," Add Project "),e.qZA(),e.TgZ(5,"button",2),e._UZ(6,"i",4),e._uU(7," Manage "),e.qZA()(),e.TgZ(8,"div",0),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(2,Z)),e.xp6(3),e.Q6J("routerLink",e.DdM(3,_)))},dependencies:[d.lC,d.rH,d.Od],styles:[".btn[_ngcontent-%COMP%]{background-color:#a19c9c!important;color:#fff}.btn[_ngcontent-%COMP%]:hover{color:#000}div[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important}"]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-project-list"]],decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"project-list works!"),e.qZA())}}),t})();var b=i(3225);function j(t,r){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}const y=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-admin-home"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),t})(),children:[{path:"login",component:v},{path:"manage",component:A,children:[{path:"",component:T},{path:"add",component:(()=>{class t{constructor(n,o,c){this.msgService=n,this.projectService=o,this.router=c,this.years=[2017,2018,2019,2020,2021,2022,2023],this.project={year:2023,title:"",content:"",reports:[],images:[],date:new Date}}onSubmit(n){if(!n.valid)return this.msgService.message({title:"FORM ERROR",text:"Please make sure to fill all required fields!"},"bg-success","text-warning");this.projectService.addProject(n.value).subscribe({next:o=>{n.resetForm(),this.msgService.message({title:"SUCCESS",text:o.title.toUpperCase()+": Successful added"},"bg-success"),this.router.navigateByUrl("/projects/"+o.year)},error:o=>{console.log(o),this.msgService.message({title:"SERVER ERROR",text:o.message},"bg-success","text-danger")}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.e),e.Y36(b.m),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["weado-add-project"]],decls:37,vars:7,consts:[[1,"row","align-content-md-center"],[1,"col-md-2"],[1,"col-md-8",3,"ngSubmit"],["form","ngForm"],[1,"mb-1"],["for","Name",1,"form-label"],["name","year",1,"form-control",3,"ngModel","ngModelChange"],["class","form-control",3,"value",4,"ngFor","ngForOf"],["for","title",1,"form-label"],["type","text","autocomplete","","name","title","required","","placeholder","title",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["for","content",1,"form-label"],["name","content","required","","placeholder","content","cols","5","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["content","ngModel"],["for","reports",1,"form-label"],["type","file","autocomplete","","name","reports","required","","placeholder","reports",1,"form-control",3,"ngModel","ngModelChange"],["reports","ngModel"],["for","images",1,"form-label"],["type","file","autocomplete","","name","images","required","","placeholder","images",1,"form-control",3,"ngModel","ngModelChange"],["images","ngModel"],["for","date",1,"form-label"],["type","date","autocomplete","","name","date","required","",1,"form-control","date",3,"ngModel","ngModelChange"],["date","ngModel"],["type","submit",1,"btn","btn-primary","float-end"],[1,"fa","fa-project-diagram"],[1,"form-control",3,"value"]],template:function(n,o){if(1&n){const c=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(c);const a=e.MAs(3);return e.KtG(o.onSubmit(a))}),e.TgZ(4,"div",4)(5,"label",5),e._uU(6," Year"),e.qZA(),e.TgZ(7,"select",6),e.NdJ("ngModelChange",function(a){return o.project.year=a}),e.YNc(8,j,2,2,"option",7),e.qZA()(),e.TgZ(9,"div",4)(10,"label",8),e._uU(11," Title"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(a){return o.project.title=a}),e.qZA()(),e.TgZ(14,"div",4)(15,"label",11),e._uU(16," Content"),e.qZA(),e.TgZ(17,"textarea",12,13),e.NdJ("ngModelChange",function(a){return o.project.content=a}),e.qZA()(),e.TgZ(19,"div",4)(20,"label",14),e._uU(21," Reports"),e.qZA(),e.TgZ(22,"input",15,16),e.NdJ("ngModelChange",function(a){return o.project.reports=a}),e.qZA()(),e.TgZ(24,"div",4)(25,"label",17),e._uU(26," Images"),e.qZA(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(a){return o.project.images=a}),e.qZA()(),e.TgZ(29,"div",4)(30,"label",20),e._uU(31," Date"),e.qZA(),e.TgZ(32,"input",21,22),e.NdJ("ngModelChange",function(a){return o.project.date=a}),e.qZA()(),e.TgZ(34,"button",23),e._UZ(35,"i",24),e._uU(36," Add Project!"),e.qZA()()()}2&n&&(e.xp6(7),e.Q6J("ngModel",o.project.year),e.xp6(1),e.Q6J("ngForOf",o.years),e.xp6(4),e.Q6J("ngModel",o.project.title),e.xp6(5),e.Q6J("ngModel",o.project.content),e.xp6(5),e.Q6J("ngModel",o.project.reports),e.xp6(5),e.Q6J("ngModel",o.project.images),e.xp6(5),e.Q6J("ngModel",o.project.date))},dependencies:[g.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F]}),t})()}]}]}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(y),d.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,S,l.u5]}),t})()}}]);