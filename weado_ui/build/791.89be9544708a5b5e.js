"use strict";(self.webpackChunkweado=self.webpackChunkweado||[]).push([[791],{9791:(j,d,o)=>{o.r(d),o.d(d,{LoginComponent:()=>C});var i=o(4341),e=o(4438),c=o(202),f=o(9457),g=o(7024),p=(o(5312),o(1626)),u=o(1015);let v=(()=>{class r extends g.OA{constructor(s,t,n){super("User",s),this.http=t,this.storage=n}static#e=this.\u0275fac=function(t){return new(t||r)(e.KVO(g.cu),e.KVO(p.Qq),e.KVO(u.n))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var S=o(509);let C=(()=>{class r{constructor(s,t,n,l,m){this.msgService=s,this.userService=t,this.userEntityService=n,this.router=l,this.storageService=m,this.user={name:"",password:"",_id:"",position:"",role:"",phoneNo:""}}ngOnInit(){}onSubmit(s){s.valid?(this.userService.login(this.user).subscribe({next:t=>{this.storageService.saveToken(t.name),this.msgService.message({title:"SUCCESS",text:"Wellcome "+t.name.toUpperCase(),bg:"green"}),this.router.navigateByUrl("weado/admin/manage")},error:t=>{this.msgService.message({title:"SERVER ERROR",text:t.error.message,bg:"red"})}}),s.resetForm()):this.msgService.message({title:"FORM ERROR",text:"Please make sure to fill all required fields!",bg:"red"})}static#e=this.\u0275fac=function(t){return new(t||r)(e.rXU(c.u),e.rXU(f.D),e.rXU(v),e.rXU(S.Ix),e.rXU(u.n))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["weado-login"]],standalone:!0,features:[e.aNF],decls:22,vars:2,consts:[["form","ngForm"],["name","ngModel"],["password","ngModel"],[1,"row","vh-50"],[1,"col-md-4"],[1,"col-md-4","mt-5",3,"ngSubmit"],["mat-dialog-title","",1,"d-flex","justify-content-center"],["src","/assets/login.PNG","alt","Logo","height","75px","width","75px",1,"brand_logo"],[1,"mb-1"],["for","Name",1,"form-label"],[1,"fa","fa-user"],["type","text","name","Name","required","","placeholder","Name",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],[1,"fa","fa-passport"],["type","password","autocomplete","","name","password","required","","placeholder","Nenosiri",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","float-end","text-white",2,"background-color","rgb(161, 156, 156)"],[1,"fa","fa-lock-open"]],template:function(t,n){if(1&t){const l=e.RV6();e.j41(0,"div",3),e.nrm(1,"div",4),e.j41(2,"form",5,0),e.bIt("ngSubmit",function(){e.eBV(l);const a=e.sdS(3);return e.Njj(n.onSubmit(a))}),e.j41(4,"div")(5,"h3",6),e.nrm(6,"img",7),e.k0s()(),e.j41(7,"div",8)(8,"label",9),e.nrm(9,"i",10),e.EFF(10," Name"),e.k0s(),e.j41(11,"input",11,1),e.mxI("ngModelChange",function(a){return e.eBV(l),e.DH7(n.user.name,a)||(n.user.name=a),e.Njj(a)}),e.k0s()(),e.j41(13,"div",8)(14,"label",12),e.nrm(15,"i",13),e.EFF(16," Password"),e.k0s(),e.j41(17,"input",14,2),e.mxI("ngModelChange",function(a){return e.eBV(l),e.DH7(n.user.password,a)||(n.user.password=a),e.Njj(a)}),e.k0s()(),e.j41(19,"button",15),e.nrm(20,"i",16),e.EFF(21," Login! "),e.k0s()()()}2&t&&(e.R7$(11),e.R50("ngModel",n.user.name),e.R7$(6),e.R50("ngModel",n.user.password))},dependencies:[i.YN,i.qT,i.me,i.BC,i.cb,i.YS,i.vS,i.cV]})}return r})()}}]);